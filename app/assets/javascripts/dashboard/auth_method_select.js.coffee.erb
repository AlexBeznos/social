$ ->
  methods = '<%= Auth::METHODS.map { |m| ".#{m.capitalize}Auth" }.join(", ") %>'
  select = '.authMethodSelect'
  static_input = ["input", "textarea"].join(", ")

  showForm = (target) ->
    $(methods).hide()
    $(methods).find(static_input).attr("disabled", true)

    if target.val()
      $(".#{target.val()}").find(static_input).attr("disabled", false)
      $(".#{target.val()}").show()

  $(methods).hide()
  showForm($(select))

  $(select).on 'change', (e) ->
    showForm($(e.target))
